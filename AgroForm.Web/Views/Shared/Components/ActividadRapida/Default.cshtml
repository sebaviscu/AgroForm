@using AgroForm.Web.Models.IndexVM
@model ActividadRapidaVM

<style>
    .select-with-icons option {
        padding-left: 30px;
    }

    .select2-container--default .select2-results__option[aria-selected=true] {
        background-color: #e9ecef;
    }

    .select2-container--default .select2-results__option--highlighted[aria-selected] {
        background-color: #0d6efd;
        color: white;
    }

    .select2-container .select2-selection--single {
        height: 38px;
        padding: 6px 12px;
    }

    /* Estilos para las secciones específicas */
    .campos-especificos {
        transition: all 0.3s ease;
    }
</style>

<div class="modal fade" id="modalActividadRapida" tabindex="-1" aria-labelledby="modalActividadRapidaLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-success text-white">
                <h5 class="modal-title" id="modalActividadRapidaLabel">
                    <i class="ph ph-tractor me-2"></i>Crear Labor
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form id="formActividadRapida" method="post" novalidate>

                <input type="hidden" id="actividadId">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="mb-3">
                                <label for="fecha" class="form-label">Fecha *</label>
                                <input type="date" class="form-control" id="fecha" name="Fecha"
                                       value="@Model.Fecha.ToString("yyyy-MM-dd")" required>
                                <div class="invalid-feedback">Por favor ingrese la fecha</div>
                            </div>
                        </div>
                        <div class="col-md-5">
                            <div class="mb-3">
                                <label for="IdLote" class="form-label">Lotes *</label>
                                <select class="form-select" id="IdLote" name="IdLote" multiple required>
                                    @foreach (var tipo in Model.Lotes)
                                    {
                                        <option value="@tipo.Value">
                                            @tipo.Text
                                        </option>
                                    }
                                </select>
                                <div class="invalid-feedback">Por favor seleccione al menos un lote</div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="tipoidActividad" class="form-label">Tipo de Labor *</label>
                                <select class="form-select" id="tipoidActividad" name="TipoidActividad" required>
                                    @foreach (var tipo in Model.TiposActividadCompletos)
                                    {
                                        <option value="@tipo.Id"
                                                data-icono="@tipo.IconoTipoActividad"
                                                data-icono-color="@tipo.IconoColorTipoActividad"
                                                data-tipo-actividad="@tipo.TipoActividad">
                                            @tipo.TipoActividad
                                        </option>
                                    }
                                </select>
                                <div class="invalid-feedback">Por favor seleccione un tipo de actividad</div>
                            </div>
                        </div>
                    </div>

                    <!-- SECCIONES ESPECÍFICAS POR TIPO DE ACTIVIDAD -->
                    <div id="camposEspecificos">
                        <!-- Los campos específicos se cargarán aquí dinámicamente -->
                    </div>

                    <!-- Observaciones -->
                    <div class="mb-3">
                        <label for="observacion" class="form-label">Observaciones</label>
                        <textarea class="form-control" id="observacion" name="Observacion"
                                  rows="3" placeholder="Observaciones adicionales...">@Model.Observacion</textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="ph ph-check-circle me-1"></i>Guardar Labor
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- TEMPLATES PARA CAMPOS ESPECÍFICOS (ocultos) -->
<div id="templates" style="display: none;">

    <!-- SIEMBRA -->
    <div id="templateSiembra">
        <div class="card mb-3">
            <div class="card-header bg-info text-white">
                <h6 class="card-title mb-0">
                    <i class="ph ph-seedling me-1"></i>Datos de Siembra
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="idCultivo" class="form-label">Cultivo *</label>
                            <select class="form-select" id="idCultivo" name="IdCultivo" required>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="idVariedad" class="form-label">Variedad</label>
                            <select class="form-select" id="idVariedad" name="IdVariedad">
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="idMetodoSiembra" class="form-label">Método de Siembra</label>
                            <select class="form-select" id="idMetodoSiembra" name="IdMetodoSiembra" required>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="superficieHa" class="form-label">Superficie (Ha)</label>
                            <input type="number" class="form-control" id="superficieHa" name="SuperficieHa"
                                   min="0.01" step="0.01">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="densidadSemillaKgHa" class="form-label">Densidad (Kg/Ha)</label>
                            <input type="number" class="form-control" id="densidadSemillaKgHa" name="DensidadSemillaKgHa"
                                   min="0.01" step="0.01">
                        </div>
                    </div>
                    <div class="col-md-4">

                        <div class="mb-3">
                            <label for="costoSiembra" class="form-label">Costo</label>
                            <div class="input-group">
                                <span class="input-group-text" id="labelMonedaCostoSiembra">$</span>
                                <input type="number" class="form-control" id="costoSiembra"
                                       min="0.01" step="0.01">

                                <div class="form-check form-switch ms-2">
                                    <input class="form-check-input" type="checkbox" id="switchMonedaCostoSiembra">
                                    <label class="form-check-label" for="switchMonedaCostoSiembra">USD</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- RIEGO -->
    <div id="templateRiego">
        <div class="card mb-3">
            <div class="card-header bg-primary text-white">
                <h6 class="card-title mb-0">
                    <i class="ph ph-drop me-1"></i>Datos de Riego
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3">
                        <div class="mb-3">
                            <label for="horasRiego" class="form-label">Horas de Riego</label>
                            <input type="number" class="form-control" id="horasRiego" name="HorasRiego"
                                   min="0.1" step="0.1">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="volumenAguaM3" class="form-label">Volumen Agua (m³)</label>
                            <input type="number" class="form-control" id="volumenAguaM3" name="VolumenAguaM3"
                                   min="0.1" step="0.1">
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="mb-3">
                            <label for="costoRiegoTotal" class="form-label">Costo</label>

                            <div class="input-group">
                                <span class="input-group-text" id="labelMonedaCostoRiego">$</span>
                                <input type="number" class="form-control" id="costoRiegoTotal"
                                       min="0.01" step="0.01">

                                <div class="form-check form-switch ms-2">
                                    <input class="form-check-input" type="checkbox" id="switchMonedaCostoRiego">
                                    <label class="form-check-label" for="switchMonedaCostoRiego">USD</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="idMetodoRiego" class="form-label">Método de Riego</label>
                            <select class="form-select" id="idMetodoRiego" name="IdMetodoRiego">
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="idFuenteAgua" class="form-label">Fuente de Agua</label>
                            <select class="form-select" id="idFuenteAgua" name="IdFuenteAgua">
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- FERTILIZACIÓN -->
    <div id="templateFertilizado">
        <div class="card mb-3">
            <div class="card-header bg-warning text-dark">
                <h6 class="card-title mb-0">
                    <i class="ph ph-flask me-1"></i>Datos de Fertilización
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3">
                        <div class="mb-3">
                            <label for="cantidadKgHa" class="form-label">Cantidad (Kg/Ha) </label>
                            <input type="number" class="form-control" id="cantidadKgHa" name="CantidadKgHa"
                                   min="0.01" step="0.01">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="dosisKgHa" class="form-label">Dosis (Kg/Ha) </label>
                            <input type="number" class="form-control" id="dosisKgHa" name="DosisKgHa"
                                   min="0.01" step="0.01">
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="mb-3">
                            <label for="costoFertilizado" class="form-label">Costo</label>

                            <div class="input-group">
                                <span class="input-group-text" id="labelMonedaCostoFertilizacion">$</span>
                                <input type="number" class="form-control" id="costoFertilizado" name="CostoFertilizacion"
                                       min="0" step="0.01">

                                <div class="form-check form-switch ms-2">
                                    <input class="form-check-input" type="checkbox" id="switchMonedaCostoFertilizacion">
                                    <label class="form-check-label" for="switchMonedaCostoFertilizacion">USD</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="idNutriente" class="form-label">Nutriente </label>
                            <select class="form-select" id="idNutriente" name="IdNutriente">
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="idTipoFertilizante" class="form-label">Tipo Fertilizante </label>
                            <select class="form-select" id="idTipoFertilizante" name="IdTipoFertilizante">
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="idMetodoAplicacion" class="form-label">Método Aplicación </label>
                            <select class="form-select" id="idMetodoAplicacion" name="IdMetodoAplicacion">
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PULVERIZACIÓN -->
    <div id="templatePulverizacion">
        <div class="card mb-3">
            <div class="card-header bg-danger text-white">
                <h6 class="card-title mb-0">
                    <i class="ph ph-spray me-1"></i>Datos de Pulverización
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3">
                        <div class="mb-3">
                            <label for="volumenLitrosHa" class="form-label">Volumen (Lt/Ha)</label>
                            <input type="number" class="form-control" id="volumenLitrosHa" name="VolumenLitrosHa"
                                   min="0.01" step="0.01">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="dosisPulverizacion" class="form-label">Dosis</label>
                            <input type="number" class="form-control" id="dosisPulverizacion" name="DosisPulverizacion"
                                   min="0.01" step="0.01">
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="mb-3">
                            <label for="costoPulverizacionTotal" class="form-label">Costo</label>

                            <div class="input-group">
                                <span class="input-group-text" id="labelMonedaCostoPulverizacion">$</span>
                                <input type="number" class="form-control" id="costoPulverizacionTotal"
                                       name="Costo" min="0.01" step="0.01">

                                <div class="form-check form-switch ms-2">
                                    <input class="form-check-input" type="checkbox" id="switchMonedaCostoPulverizacion">
                                    <label class="form-check-label" for="switchMonedaCostoPulverizacion">USD</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="idProductoAgroquimico" class="form-label">Producto Agroquímico</label>
                            <select class="form-select" id="idProductoAgroquimico" name="IdProductoAgroquimico">
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="condicionesClimaticas" class="form-label">Condiciones Climáticas</label>
                            <input type="text" class="form-control" id="condicionesClimaticas" name="CondicionesClimaticas"
                                   placeholder="Ej: Soleado, 25°C, viento leve">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- OtraLabor -->
    <div id="templateOtrasLabores">
        <div class="card mb-3">
            <div class="card-header bg-secondary text-white">
                <h6 class="card-title mb-0">
                    <i class="ph ph-wrench me-1"></i>Datos de Otras Labores
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-5">
                        <div class="mb-3">
                            <label for="costoOtraLaborTotal" class="form-label">Costo</label>

                            <div class="input-group">
                                <span class="input-group-text" id="labelMonedaCostoOtraLabor">$</span>
                                <input type="number" class="form-control" id="costoOtraLaborTotal"
                                       name="Costo" min="0.01" step="0.01">

                                <div class="form-check form-switch ms-2">
                                    <input class="form-check-input" type="checkbox" id="switchMonedaCostoOtraLabor">
                                    <label class="form-check-label" for="switchMonedaCostoOtraLabor">USD</label>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- MONITOREO -->
    <div id="templateMonitoreo">
        <div class="card mb-3">
            <div class="card-header bg-secondary text-white">
                <h6 class="card-title mb-0">
                    <i class="ph ph-binoculars me-1"></i>Datos de Monitoreo
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3">
                        <div class="mb-3">
                            <label for="idMonitoreo" class="form-label">Tipo de Monitoreo </label>
                            <select class="form-select" id="idMonitoreo" name="Textura">
                                <option value="" selected disabled></option>
                                <option value="10">Plaga</option>
                                <option value="11">Maleza</option>
                                <option value="12">Enfermedad</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="idTipoMonitoreo" class="form-label">Tipo</label>
                            <select class="form-select" id="idTipoMonitoreo" name="IdTipoMonitoreo">
                            </select>
                        </div>
                    </div>
                    @* <div class="col-md-4">
                        <div class="mb-3">
                            <label for="idEstadoFenologico" class="form-label">Estado Fenológico</label>
                            <select class="form-select" id="idEstadoFenologico" name="IdEstadoFenologico">
                            </select>
                        </div>
                    </div> *@
                    <div class="col-md-5">
                        <div class="mb-3">
                            <label for="costoMonitoreoTotal" class="form-label">Costo</label>

                            <div class="input-group">
                                <span class="input-group-text" id="labelMonedaCostoMonitoreo">$</span>
                                <input type="number" class="form-control" id="costoMonitoreoTotal"
                                       name="Costo" min="0.01" step="0.01">

                                <div class="form-check form-switch ms-2">
                                    <input class="form-check-input" type="checkbox" id="switchMonedaCostoMonitoreo">
                                    <label class="form-check-label" for="switchMonedaCostoMonitoreo">USD</label>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- ANÁLISIS DE SUELO -->
    <div id="templateAnalisisSuelo">
        <div class="card mb-3">
            <div class="card-header bg-dark text-white">
                <h6 class="card-title mb-0">
                    <i class="ph ph-test-tube me-1"></i>Datos de Análisis de Suelo
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="profundidadCm" class="form-label">Profundidad (cm)</label>
                            <input type="number" class="form-control" id="profundidadCm" name="ProfundidadCm"
                                   min="0" step="0.1">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="ph" class="form-label">pH</label>
                            <input type="number" class="form-control" id="ph" name="PH"
                                   min="0" max="14" step="0.1">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="materiaOrganica" class="form-label">Materia Orgánica (%)</label>
                            <input type="number" class="form-control" id="materiaOrganica" name="MateriaOrganica"
                                   min="0" step="0.01">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <div class="mb-3">
                            <label for="nitrogeno" class="form-label">Nitrógeno (ppm)</label>
                            <input type="number" class="form-control" id="nitrogeno" name="Nitrogeno"
                                   min="0" step="0.1">
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="mb-3">
                            <label for="fosforo" class="form-label">Fósforo (ppm)</label>
                            <input type="number" class="form-control" id="fosforo" name="Fosforo"
                                   min="0" step="0.1">
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="mb-3">
                            <label for="potasio" class="form-label">Potasio (ppm)</label>
                            <input type="number" class="form-control" id="potasio" name="Potasio"
                                   min="0" step="0.1">
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="mb-3">
                            <label for="conductividadElectrica" class="form-label">Conductividad Eléctrica</label>
                            <input type="number" class="form-control" id="conductividadElectrica" name="ConductividadElectrica"
                                   min="0" step="0.01">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="cic" class="form-label">CIC</label>
                            <input type="number" class="form-control" id="cic" name="CIC"
                                   min="0" step="0.1">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="textura" class="form-label">Textura</label>
                            <select class="form-select" id="textura" name="Textura">
                                <option value="" selected disabled></option>
                                <option value="Arenosa">Arenosa</option>
                                <option value="Franca">Franca</option>
                                <option value="Arcillosa">Arcillosa</option>
                                <option value="Franco-arenosa">Franco-arenosa</option>
                                <option value="Franco-arcillosa">Franco-arcillosa</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="idLaboratorio" class="form-label">Laboratorio</label>
                            <select class="form-select" id="idLaboratorio" name="IdLaboratorio">
                            </select>
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="mb-3">
                            <label for="costoAnalisisSueloTotal" class="form-label">Costo</label>

                            <div class="input-group">
                                <span class="input-group-text" id="labelMonedaCostoAnalisisSuelo">$</span>
                                <input type="number" class="form-control" id="costoAnalisisSueloTotal"
                                       name="Costo" min="0.01" step="0.01">

                                <div class="form-check form-switch ms-2">
                                    <input class="form-check-input" type="checkbox" id="switchMonedaCostoAnalisisSuelo">
                                    <label class="form-check-label" for="switchMonedaCostoAnalisisSuelo">USD</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- COSECHA -->
    <div id="templateCosecha">
        <div class="card mb-3">
            <div class="card-header bg-success text-white">
                <h6 class="card-title mb-0">
                    <i class="ph ph-harvest me-1"></i>Datos de Cosecha
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="rendimientoTonHa" class="form-label">Rendimiento (Ton/Ha)</label>
                            <input type="number" class="form-control" id="rendimientoTonHa" name="RendimientoTonHa"
                                   min="0.01" step="0.01">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="humedadGrano" class="form-label">Humedad (%)</label>
                            <input type="number" class="form-control" id="humedadGrano" name="HumedadGrano"
                                   min="0" max="100" step="0.1">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="superficieCosechadaHa" class="form-label">Superficie Cosechada (Ha)</label>
                            <input type="number" class="form-control" id="superficieCosechadaHa" name="SuperficieCosechadaHa"
                                   min="0.01" step="0.01">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="idCultivoCosecha" class="form-label">Cultivo </label>
                            <select class="form-select" id="idCultivoCosecha" name="IdCultivo">
                            </select>
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="mb-3">
                            <label for="costoCosechaTotal" class="form-label">Costo</label>

                            <div class="input-group">
                                <span class="input-group-text" id="labelMonedaCostoCosecha">$</span>
                                <input type="number" class="form-control" id="costoCosechaTotal"
                                       name="Costo" min="0.01" step="0.01">

                                <div class="form-check form-switch ms-2">
                                    <input class="form-check-input" type="checkbox" id="switchMonedaCostoCosecha">
                                    <label class="form-check-label" for="switchMonedaCostoCosecha">USD</label>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

</div>














<!-- Modal para Clima -->
<div class="modal fade" id="modalClima" tabindex="-1" aria-labelledby="modalClimaLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-success text-white">
                <h5 class="modal-title" id="modalClimaLabel">
                    <i class="ph ph-cloud-rain me-2"></i>Crear Registro de Clima
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form id="formClima" method="post" novalidate>
                <input type="hidden" id="registroClimaId">

                <div class="modal-body">
                    <!-- Selector de Campo (Lote) -->
                    <div class="row">
                        <div class="col-4">
                            <div class="mb-3">
                                <label for="fechaClima" class="form-label">Fecha *</label>
                                <input type="date" class="form-control" id="fechaClima" name="Fecha"
                                       value="@DateTime.Now.ToString("yyyy-MM-dd")" required>
                                <div class="invalid-feedback">Por favor ingrese la fecha.</div>
                            </div>
                        </div>
                        <div class="col-8">
                            <div class="mb-3">
                                <label for="campoClima" class="form-label">Campo *</label>
                                <select class="form-select" id="campoClima" name="idCampo" required>
                                    <!-- Aquí se cargarán los lotes/campos -->
                                </select>
                                <div class="invalid-feedback">Por favor seleccione un campo.</div>
                            </div>
                        </div>
                    </div>

                    <!-- Fila para Tipo de Clima y Milímetros -->
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="tipoClima" class="form-label">Tipo *</label>
                                <select class="form-select" id="tipoClima" name="TipoClima" required>
                                    <option value="0" selected>Lluvia</option>
                                    <option value="1">Granizo</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="milimetros" class="form-label">Milímetros (mm)</label>
                                <input type="number" class="form-control" id="milimetros" name="Milimetros" step="0.1" min="0" placeholder="mm">
                            </div>
                        </div>
                    </div>

                    <!-- Observaciones -->
                    <div class="mb-3">
                        <label for="observacionesClima" class="form-label">Observaciones</label>
                        <textarea class="form-control" id="observacionesClima" name="Observaciones" rows="3" placeholder="Observaciones..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="ph ph-check-circle me-1"></i>Guardar
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
















<!-- Modal para Gasto -->
<div class="modal fade" id="modalGasto" tabindex="-1" aria-labelledby="modalGastoLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-success text-white">
                <h5 class="modal-title" id="modalGastoLabel">
                    <i class="ph ph-receipt me-2"></i>Crear Gasto
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form id="formGasto" method="post" novalidate>
                <input type="hidden" id="gastoId">

                <div class="modal-body">

                    <div class="row">
                        <div class="col-4">
                            <div class="mb-3">
                                <label for="fechaGasto" class="form-label">Fecha *</label>
                                <input type="date" class="form-control" id="fechaGasto" name="Fecha"
                                       value="@DateTime.Now.ToString("yyyy-MM-dd")" required>
                                <div class="invalid-feedback">Por favor ingrese la fecha.</div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-5">
                            <div class="mb-3">
                                <label for="tipoGasto" class="form-label">Tipo *</label>
                                <select class="form-select" id="tipoGasto" name="TipoGasto" required>
                                    <option value="0">Sueldo</option>
                                    <option value="1">Combustible</option>
                                    <option value="2">Mantenimiento</option>
                                    <option value="3">Impuestos</option>
                                    <option value="4">Otros</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-7">
                            <div class="mb-3">
                                <label for="costoGasto" class="form-label">Costo</label>
                                <div class="input-group">
                                    <span class="input-group-text" id="labelMonedaCostoGasto">$</span>
                                    <input type="number" class="form-control" id="costoGasto"
                                           min="0.01" step="0.01">

                                    <div class="form-check form-switch ms-2">
                                        <input class="form-check-input" type="checkbox" id="switchMonedaCostoGasto">
                                        <label class="form-check-label" for="switchMonedaCostoGasto">USD</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Observaciones -->
                    <div class="mb-3">
                        <label for="observacionesGasto" class="form-label">Observaciones</label>
                        <textarea class="form-control" id="observacionesGasto" name="Observaciones" rows="3" placeholder="Observaciones..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="ph ph-check-circle me-1"></i>Guardar
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="~/js/views/actividadRapida.js" asp-append-version="true"></script>